<!--index.wxml-->
<import src="../../template/toast/toast.wxml" />
<template is="toast" data="{{..._toast_}}" />

<!-- æœªç»‘å®šä¿¡æ¯ç•Œé¢ -->
<view class='container' wx:if="{{!hasUserInfo}}">
  <view class='bg'> </view>
  <view class='tips'>æœªç»‘å®šè´¦å·ï¼Œè¯·å…ˆç»‘å®šè´¦å·ã€‚</view>
  <view class='ics'>
    <image bindtap='iamstudent' class='ic' src='http://aff.suda.edu.cn/default/home/images/btn_student_normal.png'></image>
    <image bindtap='iamteacher' class='ic' src='http://aff.suda.edu.cn/default/home/images/btn_teacher_normal.png'></image>
  </view>
</view>

<!-- å­¦ç”Ÿç•Œé¢ -->
<view class='container' wx:elif="{{userInfo.id.length==10}}">
  <view class='bg'> </view>

  <view class='navbox' style='height:200rpx;' animation="{{animationData}}">
    <view class='navitem' data-index='{{index}}' bindtap='studentselect' wx:for="{{navimages}}">
      <image class='navimage' src='{{navimagesurl+item}}' />
    </view>
  </view>

 <image wx:if='{{itemindex==null}}' class='headurl' src='{{userInfo.headurl}}'></image>

  <view>ç”¨æˆ·ï¼š{{userInfo.name}} ğŸ”¥ ç‰ˆæœ¬ï¼šV1.0æµ‹è¯•</view>
  <!-- å­¦ç”Ÿç¬¬ä¸€ä¸ªé¡µé¢ -->
  <picker-view animation="{{animationpick}}" hidden='{{itemindex!=0}}' indicator-class="indicator" mask-class="mask" class='picker' value="{{[1]}}" bindchange="pickkc">
    <picker-view-column>
      <view wx:for="{{kcinfos}}" class='pickeritem'>{{kcinfos[index]}}</view>
    </picker-view-column>
  </picker-view>
  <button animation="{{animationpick}}" disabled="{{userInfo.kcInfos[kcindex].allowornot==0}}" class='signbtn' hidden='{{itemindex!=0}}' bindtap='signin'>{{userInfo.kcInfos[kcindex].allowornot==1?'æ‰“å¡':'ç­¾åˆ°å…¥å£æœªå¼€æ”¾'}}</button>
  <!-- å­¦ç”Ÿç¬¬äºŒä¸ªé¡µé¢ -->

<scroll-view hidden='{{itemindex!=1||glkcinfos.length==0}}' scroll-y='true' style='margin-top:60rpx;height:55%'>
    <view hidden='{{itemindex!=1||glkcinfos.length==0}}' class='table' animation="{{animationpick}}">
    <view data-index='{{index}}' bindtap='stuchangekcstate' class='item' wx:for="{{glkcinfos}}" style="background-color:{{item.kcInfo.allowornot?'rgba(46,104,170,0.7)':'white'}}">
      <image src="{{item.kcInfo.allowornot?'http://115.159.58.187/kckqimages/icon/icon-add.png':'http://115.159.58.187/kckqimages/icon/icon-delete.png'}}" class='itemimg'></image>
      <view class='itemtxt'>{{item.kcInfo.kcmc}}</view>
    <view wx:if='{{item.kcInfo.allowornot}}' style='margin-left:140rpx;font-size:11px;'>å¯ç­¾åˆ°</view>  
    </view>
  </view>
  </scroll-view>

  <view style='margin-top:400rpx' animation="{{animationpick}}" hidden='{{itemindex!=1||glkcinfos.length!=0}}'> ä½ æ²¡æœ‰è¯¾ç¨‹çš„ç®¡ç†å‘˜æƒé™</view>

  <!-- é€‰æ‹©æŸ¥çœ‹çš„è¯¾ç¨‹ -->
  <picker-view animation="{{animationpick}}" hidden='{{(itemindex!=2&&itemindex!=3)||!picker}}' indicator-class="indicator" mask-class="mask" class='picker' value="{{[1]}}" bindchange="pickkc">
    <picker-view-column>
      <view wx:for="{{kcinfos}}" class='pickeritem'>{{item.kcmc}}</view>
    </picker-view-column>
  </picker-view>
  <button animation="{{animationpick}}" class='signbtn' hidden='{{(itemindex!=2&&itemindex!=3)||!picker}}' bindtap='confirm'>é€‰æ‹©è¯¾ç¨‹æŸ¥çœ‹ç­¾åˆ°æƒ…å†µ</button>

  <!-- å­¦ç”Ÿç¬¬ä¸‰ä¸ªé¡µé¢ -->
  <view hidden='{{itemindex!=2||picker}}' class='t_two' animation="{{animationpick}}">
    <view class="box">
      <view class='header'>{{kcinfos[kcindex].kcmc}}</view>
      <scroll-view scroll-y='true' class='scrollview'>
        <view class='itemsigned' wx:for="{{signedstudent}}">
          <view class='id'>
            {{index+1}}
          </view>
          <image class='touxiang' src='{{item.student.headurl}}'></image>
          <view class='xh'>{{item.student.id}}</view>
          <view class='name'>{{item.student.name}}</view>
        </view>
      </scroll-view>
    </view>

  </view>
  <!-- å­¦ç”Ÿç¬¬å››ä¸ªé¡µé¢ -->
<view hidden='{{itemindex!=3||picker}}' class='t_two' animation="{{animationpick}}">
    <view class="box">
      <view class='header'>{{kcinfos[kcindex].kcmc}}</view>
      <scroll-view scroll-y='true' class='scrollview'>
        <view class='itemsigned' wx:for="{{notsignstudent}}" bindtap='dq' data-xh='{{item.id}}' data-index='{{index}}'>
          <view class='id'>
            {{index+1}}
          </view>
          <image class='touxiang' src="{{'http://115.159.58.187/kckqimages/icon/tabicon8.png'}}"></image>
          <view class='xh'>{{item.id}}</view>
          <view class='name'>{{item.name}}</view>

        </view>
      </scroll-view>
    </view>

  </view>

  <!-- å­¦ç”Ÿç¬¬äº”ä¸ªé¡µé¢ -->
  <view hidden='{{itemindex!=4}}' animation="{{animationpick}}">
    å­¦ç”Ÿç¬¬äº”ä¸ªé¡µé¢
  </view>
  <!-- å­¦ç”Ÿç¬¬å…­ä¸ªé¡µé¢ -->
  <view hidden='{{itemindex!=5}}' animation="{{animationpick}}">
    å­¦ç”Ÿç¬¬å…­ä¸ªé¡µé¢
  </view>
  <!-- å­¦ç”Ÿç¬¬ä¸ƒä¸ªé¡µé¢ -->
  <view hidden='{{itemindex!=6}}' animation="{{animationpick}}">
    å­¦ç”Ÿç¬¬ä¸ƒä¸ªé¡µé¢
  </view>
  <!-- å­¦ç”Ÿç¬¬å…«ä¸ªé¡µé¢ -->
  <view hidden='{{itemindex!=7}}' animation="{{animationpick}}">
    å­¦ç”Ÿç¬¬å…«ä¸ªé¡µé¢
  </view>

</view>


<!-- è€å¸ˆç•Œé¢ -->
<view wx:else class='container'>
  <view class='bg'> </view>

  <view class='navbox' style='height:200rpx;' animation="{{animationData}}">
    <view class='navitem' data-index='{{index}}' bindtap='teacherselect' wx:for="{{navimagest}}">
      <image class='navimage' src='{{navimagesurl+item}}' />
    </view>
  </view>

   <image wx:if='{{itemindex==null}}' class='headurl' src='{{userInfo.headurl}}'></image>
  <view>ç”¨æˆ·ï¼š{{userInfo.name}} ğŸ”¥ ç‰ˆæœ¬ï¼šV1.0æµ‹è¯•</view>

  <!-- è€å¸ˆç¬¬ä¸€ä¸ªé¡µé¢ -->

<scroll-view hidden='{{itemindex!=0}}' scroll-y='true' style='margin-top:60rpx;height:55%'><view hidden='{{itemindex!=0}}'  class='table' animation="{{animationpick}}">
    <view data-index='{{index}}' bindtap='changekcstate' class='item' wx:for="{{kcinfos}}" style="background-color:{{item.allowornot?'rgba(46,104,170,0.7)':'white'}}">
      <image src="{{item.allowornot?'http://115.159.58.187/kckqimages/icon/icon-add.png':'http://115.159.58.187/kckqimages/icon/icon-delete.png'}}" class='itemimg'></image>
      <view class='itemtxt'>{{item.kcmc}}</view>
          <view wx:if='{{item.allowornot}}' style='margin-left:140rpx;font-size:11px;'>å¯ç­¾åˆ°</view>  
    </view>
  </view>
</scroll-view>
  


  <!-- é€‰æ‹©æŸ¥çœ‹çš„è¯¾ç¨‹ -->
  <picker-view animation="{{animationpick}}" hidden='{{(itemindex!=2&&itemindex!=1)||!picker}}' indicator-class="indicator" mask-class="mask" class='picker' value="{{[1]}}" bindchange="pickkc">
    <picker-view-column>
      <view wx:for="{{kcinfos}}" class='pickeritem'>{{item.kcmc}}</view>
    </picker-view-column>
  </picker-view>
  <button animation="{{animationpick}}" class='signbtn' hidden='{{(itemindex!=2&&itemindex!=1)||!picker}}' bindtap='confirm'>é€‰æ‹©è¯¾ç¨‹æŸ¥çœ‹ç­¾åˆ°æƒ…å†µ</button>


  <!-- è€å¸ˆç¬¬äºŒä¸ªé¡µé¢ -->
  <view hidden='{{itemindex!=1||picker}}' class='t_two' animation="{{animationpick}}">
    <view class="box">
      <view class='header'>{{kcinfos[kcindex].kcmc}}</view>
      <scroll-view scroll-y='true' class='scrollview'>
        <view class='itemsigned' wx:for="{{signedstudent}}">
          <view class='id'>
            {{index+1}}
          </view>
          <image class='touxiang' src='{{item.student.headurl}}'></image>
          <view class='xh'>{{item.student.id}}</view>
          <view class='name'>{{item.student.name}}</view>
        </view>
      </scroll-view>
    </view>

  </view>
  <!-- è€å¸ˆç¬¬ä¸‰ä¸ªé¡µé¢ -->
  <view hidden='{{itemindex!=2||picker}}' class='t_two' animation="{{animationpick}}">

    <view class="box">
      <view class='header'>{{kcinfos[kcindex].kcmc}}</view>
      <scroll-view scroll-y='true' class='scrollview'>
        <view class='itemsigned' wx:for="{{notsignstudent}}">
          <view class='id'>
            {{index+1}}
          </view>
          <image class='touxiang' src="{{'http://115.159.58.187/kckqimages/icon/tabicon8.png'}}"></image>
          <view class='xh'>{{item.id}}</view>
          <view class='name'>{{item.name}}</view>

        </view>
      </scroll-view>
    </view>



  </view>


  <!-- è€å¸ˆç¬¬å››ä¸ªé¡µé¢ -->
  <view hidden='{{itemindex!=3}}' animation="{{animationpick}}">
    è€å¸ˆç¬¬å››ä¸ªé¡µé¢ï¼Œè¿˜æ²¡æƒ³å¥½åšä»€ä¹ˆ
  </view>

</view>